# 크리처 시스템

## 기본 구조

### 오전 페이즈 (탐험 중)
- 각 크리처별 고유한 복잡한 메커니즘
- 플레이어가 능동적으로 대응 (쿠션, 패널 공격 등)
- 크리처 완전 처치 시 오후에 등장하지 않음

### 오후 페이즈 (방어 중)
- 모든 크리처 동일한 행동: 센터로 돌진하여 중앙 배터리 공격
- 크리처별 차이점: 속성, 이동속도, HP, 피해량 등 스탯만 상이

## 크리처 속성 시스템

### 🔥 인간형: 화염방사기로 제거
- **연료**: 불통 (상점 구매)
- **특징**: 불에 취약
- **대응**: 화염 트랩 사용

### 💧 기계형: 물대포로 제거
- **연료**: 물통 (상점 구매)
- **특징**: 물/전기에 취약
- **예시**: 렘페이지 (Rampage), RSP
- **대응**: 물 트랩 사용

### 🔨 노말형: 망치 트랩으로 제거
- **연료**: 유압가스통 (상점 구매)
- **특징**: 물리 타격에 취약
- **대응**: 물리 트랩 사용

## 방어 메커니즘

### 능동적 제거
- **장점**: 크리처 완전 제거 가능
- **단점**: 
  - 정확한 속성 파악 필요
  - 긴 쿨타임
  - 연료 소모
  - 재장전 시간
- **요구사항**: CCTV로 크리처 확인 → 외관 암기로 속성 판단 → 해당 트랩 사용

### 수동적 차단
- **장점**: 
  - 크리처 속성 몰라도 방어 가능
  - 전력만 소모
- **단점**: 
  - 크리처 제거 불가
  - 지속적 전력 소모
- **요구사항**: 문 닫기 유지

## 확정된 크리처 목록

### 1. 렘페이지 (Rampage) - 기계형 💧
- **오전**: 돌진 → 쿠션 배치 → 무력화 패널 공격 (6회)
- **오후**: 센터 돌진 → 물대포로 제거
- **개발 상태**: ✅ 완료
- **기획서**: 상태머신 및 의사코드 포함 완성

### 2. RSP - 기계형 💧
- **오전**: 30초 타이머 → 스택 시스템 → 짱켄맨 게임 (연속 강제)
- **특수 메커니즘**: 
  - 발견 후 30초마다 스택 +1
  - F키로 가위바위보 게임 시작
  - 스택 0까지 연속 게임 강제 진행
  - 완료 시 2분간 비활성화 모드
- **오후**: 센터 돌진 → 물대포로 제거
- **개발 상태**: ✅ 완료
- **기획서**: 완전한 메커니즘 및 팀플레이 상호작용 완성

### 3. Moo - 속성 미정
- **오전**: 고유 메커니즘 (미공개)
- **오후**: 센터 돌진 → 속성별 트랩으로 제거
- **개발 상태**: 🔄 기획 진행중 (진행률 52%)

## 미결정 사항

### Moo 크리처 설계
- [ ] Moo 속성 (인간형/기계형/노말형)
- [ ] Moo 오전 고유 메커니즘
- [ ] 렘페이지, RSP와의 차별화 포인트

### 오후 스탯 밸런싱
- [ ] 크리처별 이동속도 차이
- [ ] 크리처별 센터 도달 시 피해량
- [ ] 트랩별 제거 성공률
- [ ] 실패 시 재시도 간격

### 학습 및 정보 시스템
- [ ] 크리처 외관 학습 방법 (도감? 튜토리얼?)
- [ ] CCTV 화질 및 크리처 구별 난이도
- [ ] 실수 시 피드백 시스템
- [ ] 숙련도에 따른 난이도 조절

### 크리처 간 상호작용
- [ ] 여러 크리처 동시 등장 시 우선순위
- [ ] 기계형 크리처들 (렘페이지 + RSP) 자원 배분 전략
- [ ] 크리처별 난이도 곡선 조정

## 기술적 구현

### 크리처 상태 관리
```csharp
public enum CreatureState
{
    Patrol,      // 일반 순찰
    Tracking,    // 플레이어 추적
    Engaging,    // 고유 메커니즘 실행
    Inactive,    // 비활성화 (RSP 전용)
    Rushing      // 오후 센터 돌진
}

public abstract class BaseCreature : MonoBehaviour
{
    public CreatureAttribute attribute;
    public CreatureState currentState;
    public float morningHealth;
    public float afternoonHealth;
    
    // 오전 고유 메커니즘 (각 크리처별 구현)
    public abstract void ExecuteMorningMechanism();
    
    // 오후 돌진 행동 (공통)
    public virtual void RushToCenter() { }
}
```

### RSP 전용 시스템
```csharp
public class RSPCreature : BaseCreature
{
    [Header("RSP 시스템")]
    public int currentStack = 0;
    public float detectionTimer = 0f;
    public bool isInGame = false;
    public bool isInactive = false;
    
    public override void ExecuteMorningMechanism()
    {
        // 30초 타이머 관리
        // 스택 시스템 처리
        // 가위바위보 게임 로직
        // 비활성화 모드 관리
    }
}
```

## 크리처 설계 원칙

### 다양성 확보
- **메커니즘 차별화**: 각 크리처별 완전히 다른 대응 방식
- **속성 균형**: 인간형/기계형/노말형 균등 배치
- **난이도 분산**: 초급/중급/고급 크리처 배치

### 팀워크 강화
- **직접 vs 간접**: 렌페이지(직접), RSP(간접), Moo(?)
- **역할 분담**: 각 크리처마다 다른 팀 역할 요구
- **정보 공유**: 크리처별 정보 수집 및 공유 필요성

### 자원 관리 연계
- **트랩 연료**: 각 속성별 연료 소모 균형
- **시간 투자**: 크리처별 처리 시간 차이
- **위험도 보상**: 어려운 크리처일수록 큰 이익

## 크리처 확장 계획

### 단기 확장 (Moo 완성)
1. **Moo 속성 결정**: 인간형 또는 노말형 (기계형 중복 방지)
2. **고유 메커니즘 설계**: RSP와 차별화된 새로운 방식
3. **팀플레이 요소**: 직접 지원 가능한 메커니즘 고려

### 중기 확장 (추가 크리처)
1. **4번째 크리처**: 환경 상호작용형
2. **보스급 크리처**: 특별한 이벤트용
3. **합성 크리처**: 기존 크리처들의 조합

### 장기 확장 (시스템 발전)
1. **적응형 AI**: 플레이어 패턴 학습
2. **동적 메커니즘**: 상황에 따른 행동 변화
3. **크리처 진화**: 사이클 진행에 따른 능력 강화

---

## 개발 우선순위

### 즉시 진행 (이번 주)
1. **Moo 크리처 기본 설계** 완료
2. **기계형 자원 밸런싱** (렘페이지 + RSP)
3. **크리처 우선순위 시스템** 구현

### 단기 목표 (다음 주)
1. **Moo 크리처 프로토타입** 완성
2. **3크리처 동시 테스트** 진행
3. **오후 페이즈 밸런싱** 1차 조정

### 중기 목표 (한 달 내)
1. **모든 크리처 완성** 및 통합 테스트
2. **크리처별 학습 시스템** 구현
3. **확장 크리처** 기획 시작
