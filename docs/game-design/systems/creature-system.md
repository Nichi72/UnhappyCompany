# 크리처 시스템

## 기본 구조

### 오전 페이즈 (탐험 중)
- 각 크리처별 고유한 복잡한 메커니즘
- 플레이어가 능동적으로 대응 (쿠션, 패널 공격 등)
- 크리처 완전 처치 시 오후에 등장하지 않음

### 오후 페이즈 (방어 중)
- 모든 크리처 동일한 행동: 센터로 돌진하여 중앙 배터리 공격
- 크리처별 차이점: 속성, 이동속도, HP, 피해량 등 스탯만 상이

## 크리처 속성 시스템

### 🔥 인간형: 화염방사기로 제거
- **연료**: 불통 (상점 구매)
- **특징**: 불에 취약
- **대응**: 화염 트랩 사용

### 💧 기계형: 물대포로 제거
- **연료**: 물통 (상점 구매)
- **특징**: 물/전기에 취약
- **예시**: 렘페이지 (Rampage), RSP
- **대응**: 물 트랩 사용

### 🔨 노말형: 망치 트랩으로 제거
- **연료**: 유압가스통 (상점 구매)
- **특징**: 물리 타격에 취약
- **대응**: 물리 트랩 사용

## 방어 메커니즘

### 능동적 제거
- **장점**: 크리처 완전 제거 가능
- **단점**: 
  - 정확한 속성 파악 필요
  - 긴 쿨타임
  - 연료 소모
  - 재장전 시간
- **요구사항**: CCTV로 크리처 확인 → 외관 암기로 속성 판단 → 해당 트랩 사용

### 수동적 차단
- **장점**: 
  - 크리처 속성 몰라도 방어 가능
  - 전력만 소모
- **단점**: 
  - 크리처 제거 불가
  - 지속적 전력 소모
- **요구사항**: 문 닫기 유지

## 확정된 크리처 목록

### 1. 렘페이지 (Rampage) - 기계형 💧
- **오전**: 2단계 돌진 (NavMesh 추격 → 물리 돌진) → 쿠션 배치 → 무력화 패널 공격 (6회)
- **특수 메커니즘**:
  - **2단계 돌진**: attackRadius (2m) 도달 시 고정 방향으로 물리 돌진
  - **패널 시스템**: 쿠션 충돌 시 패널 3개, 벽 충돌 시 패널 1개 + HP -10
  - **게임플레이 피드백**: 돌진 전환 시 FMOD 사운드 경고 (확장 가능)
- **디버그 UI**: HP + Panel + Charge 바, 이동 방향, 돌진 목표 시각화
- **오후**: 센터 돌진 → 물대포로 제거
- **개발 상태**: ✅ 완료 (2025-10-13 최종 업데이트)
- **기획서**: 상태머신 및 의사코드 포함 완성
- **기술 문서**: [Enemy AI 시스템](../../technical/enemy-ai-system.md#rampage-크리처)

### 2. RSP - 기계형 💧
- **오전**: 30초 타이머 → 스택 시스템 → 짱켄맨 게임 (연속 강제)
- **특수 메커니즘**: 
  - 발견 후 30초마다 스택 +1
  - F키로 가위바위보 게임 시작
  - 스택 0까지 연속 게임 강제 진행
  - 완료 시 2분간 비활성화 모드
- **디버그 UI**: HP + Stack 바, 상태 텍스트, 상호작용 가능 알림
- **오후**: 센터 돌진 → 물대포로 제거
- **개발 상태**: ✅ 완료 (2025-10-13 디버그 UI 추가)
- **기획서**: 완전한 메커니즘 및 팀플레이 상호작용 완성
- **기술 문서**: [Enemy AI 시스템](../../technical/enemy-ai-system.md)

### 3. Moo - 노말형 🔨
- **오전**: 시야/청각 감지 시스템 → 기력 기반 도망 메커니즘
- **특수 메커니즘**:
  - **시야 감지**: 앞쪽 120° 시야각 내 5m 접근 시 도망
  - **청각 감지**: 전방향 5m 내 플레이어 달리기 감지 시 도망
  - **기력 시스템**: 도망 시 초당 20 소모, 배회 시 초당 5 회복
  - **지침 상태**: 기력 <= 10 시 도망 불가 (처치 용이)
  - **점액 배출**: 10초마다 자동 + 도망 중 30% 확률(2~5초 후)
  - **NavMesh 기반**: 플레이어 반대 방향 우선 도망 (3단계 로직)
- **대응 전략**: 
  - **🎯 스니킹 (가장 효율적)**: 뒤에서 조용히 걸어가서 백어택 - 소리/시야 회피
  - **🔫 원거리 (안전)**: 총으로 안전하게 처치 - 총알 소모하지만 확실함
  - **🏃 추격전 (시간 소모)**: 계속 쫓아가서 기력 소진시키기 - 비효율적
- **귀찮은 요소**: 도망다니며 점액 깔기, 쫓아가야 하는 번거로움
- **파훼법**: 명확하고 단순한 3가지 선택지로 스트레스 최소화
- **디버그 UI**: HP + Stamina 바, 시야/청각 범위 시각화, 도망 목표 시각화
- **오후**: 센터 돌진 → 망치 트랩으로 제거
- **개발 상태**: ✅ 완료 (2025-10-13)
- **기술 문서**: [Enemy AI 시스템](../../technical/enemy-ai-system.md#moo-크리처)

## 미결정 사항

### Moo 크리처 설계
- [x] Moo 속성 (노말형 🔨 확정)
- [x] Moo 오전 고유 메커니즘 (기력 기반 도망 시스템)
- [x] 렘페이지, RSP와의 차별화 포인트 (스니킹 vs 정면 대응)
- [x] 기력 시스템 밸런싱 (최대 기력 100, 소모 20/회복 5)
- [x] 감지 범위 최적화 (시야각 120°, 청각 5m)
- [x] 지침 상태 연출 및 피드백 (Cry 애니메이션 + UI 표시)
- [ ] 점액 디버프 수치 밸런싱 (이동속도 감소율)

### 오후 스탯 밸런싱
- [ ] 크리처별 이동속도 차이
- [ ] 크리처별 센터 도달 시 피해량
- [ ] 트랩별 제거 성공률
- [ ] 실패 시 재시도 간격

### 학습 및 정보 시스템
- [ ] 크리처 외관 학습 방법 (도감? 튜토리얼?)
- [ ] CCTV 화질 및 크리처 구별 난이도
- [ ] 실수 시 피드백 시스템
- [ ] 숙련도에 따른 난이도 조절

### 크리처 간 상호작용
- [ ] 여러 크리처 동시 등장 시 우선순위
  - **Rampage > RSP > Moo** (위험도 순서)
  - Moo는 다른 크리처 처리 중 백그라운드에서 기력 회복
- [ ] 자원 배분 전략 최적화
  - **기계형 (렘페이지 + RSP)**: 물통 경쟁 → 우선순위 필요
  - **노말형 (Moo)**: 유압가스통 독점 → 자원 충돌 없음
- [ ] 크리처별 난이도 곡선 조정
  - **초급**: Moo (귀찮지만 명확한 파훼법 3가지, 스니킹 연습용)
    - 위험도는 낮지만 번거로움으로 기본 게임플레이 학습
    - 실패해도 큰 피해 없어서 초보자 친화적
  - **중급**: Rampage (쿠션 + 패널 공격, 직관적이지만 실행력 필요)
  - **고급**: RSP (게임 플레이 + 시간 압박, 복잡한 메커니즘)


## 크리처 설계 원칙

### 다양성 확보
- **메커니즘 차별화**: 각 크리처별 완전히 다른 대응 방식
- **속성 균형**: 인간형/기계형/노말형 균등 배치
- **난이도 분산**: 초급/중급/고급 크리처 배치

### 팀워크 강화
- **직접 vs 간접**: 렘페이지(직접 대응), RSP(간접 방해), Moo(개인 처리)
- **역할 분담**: 각 크리처마다 다른 팀 역할 요구
  - **렘페이지**: 쿠션 배치 + 패널 공격 (팀 협력 필수)
  - **RSP**: 가위바위보 게임 (한 명 전담, 다른 팀원은 대기)
  - **Moo**: 개인 스킬 기반 처리 (스니킹, 원거리, 추격)
- **정보 공유**: 크리처별 정보 수집 및 공유 필요성
  - **Moo**: 기력 상태보다는 위치 정보가 더 중요

### 자원 관리 연계
- **트랩 연료**: 각 속성별 연료 소모 균형
  - **기계형 (렘페이지, RSP)**: 물통 수요 집중
  - **노말형 (Moo)**: 유압가스통 단독 사용 → 자원 분산 효과
- **시간 투자**: 크리처별 처리 시간 차이
  - **렘페이지**: 중간 (쿠션 설치 + 패널 공격)
  - **RSP**: 긴 시간 (게임 진행 + 스택 소모)
  - **Moo**: 변동적 (스니킹 성공 시 빠름, 추격전 시 오래 걸림)
- **위험도 보상**: 어려운 크리처일수록 큰 이익
  - **Moo**: 낮은 위험도 + 번거로움 → 적당한 보상
    - 직접 피해는 적지만 시간 소모와 점액 방해로 간접 피해
    - 쉬운 파훼법 제공으로 스트레스 대비 적절한 보상 설정

## 크리처 확장 계획

### 단기 확장 (Moo 완성)
1. ✅ **Moo 속성 결정**: 노말형 🔨 확정
2. ✅ **고유 메커니즘 설계**: 기력 기반 도망 + 시야/청각 감지 시스템
3. ✅ **파훼법 설계**: 스니킹/원거리/추격 3가지 명확한 대응 방법
4. 🔄 **구현 및 밸런싱**: 기력 수치, 감지 범위 조정
5. 🔄 **애니메이션 및 피드백**: 지침 상태 시각화

### 중기 확장 (추가 크리처)
1. **4번째 크리처**: 인간형 🔥 (속성 균형 완성)
   - 환경 상호작용형 또는 화염 기반 메커니즘
   - 렘페이지/RSP(기계형), Moo(노말형)와 차별화
2. **보스급 크리처**: 특별한 이벤트용
3. **합성 크리처**: 기존 크리처들의 조합

### 장기 확장 (시스템 발전)
1. **적응형 AI**: 플레이어 패턴 학습
2. **동적 메커니즘**: 상황에 따른 행동 변화
3. **크리처 진화**: 사이클 진행에 따른 능력 강화

---

## 개발 우선순위

### 완료 항목 (2025-10-13)
1. ✅ **공통 디버그 UI 시스템** - EnemyAIController 통합
2. ✅ **Moo 크리처 완전 구현**
   - NavMesh 기반 이동
   - 기력 시스템 (소모/회복/지침)
   - 시야/청각 감지
   - 3단계 도망 로직
   - 도망 중 슬라임 배출
   - 게임뷰 디버그 UI
3. ✅ **Rampage 크리처 개선**
   - 2단계 돌진 시스템 명확화
   - 게임플레이 피드백 시스템
   - 돌진 목표 시각화
   - 게임뷰 디버그 UI
4. ✅ **Base Range Settings 개선** - 퍼센트 기반 + 게임뷰 시각화

### 즉시 진행 (이번 주)
1. **Rampage 게임플레이 피드백 구체화**
   - FMOD 사운드 할당
   - VFX 파티클 추가
   - 색상 변경 효과
2. **Moo 점액 디버프 밸런싱**
3. **기계형 자원 밸런싱** (렘페이지 + RSP)

### 단기 목표 (다음 주)
1. **3크리처 동시 테스트** 진행
2. **오후 페이즈 밸런싱** 1차 조정
3. **RSP 게임뷰 디버그 UI 테스트**

### 중기 목표 (한 달 내)
1. **모든 크리처 밸런싱 및 폴리싱** 완료
2. **크리처별 학습 시스템** 구현
3. **4번째 크리처 (인간형)** 기획 시작
